<!-- Â© 2024 TINI COMPANY - CONFIDENTIAL -->
<!-- Employee: rongdeptrai-vl <rongdz2307@gmail.com> -->
<!-- Commit: ebdabf3 | Time: 2025-08-09T05:09:14Z -->
<!-- Watermark: TINI_1754716154_e868a412 | TINI_WATERMARK -->
<!-- WARNING: Unauthorized distribution is prohibited -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
</head>
<body>
    <h1>Debug Test for Chrome Storage Errors</h1>
    <div id="log"></div>
    
    <!-- Chrome API Compatibility Layer (must be first) -->
    <script src="scripts/chrome-api-compat.js"></script>
    
    <script>
        // Override console methods to capture all logs
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        
        const logDiv = document.getElementById('log');
        
        function addLog(type, message) {
            const p = document.createElement('p');
            p.style.color = type === 'error' ? 'red' : (type === 'warn' ? 'orange' : 'black');
            p.textContent = `[${type.toUpperCase()}] ${message}`;
            logDiv.appendChild(p);
        }
        
        console.log = function(...args) {
            addLog('log', args.join(' '));
            originalLog.apply(console, args);
        };
        
        console.error = function(...args) {
            addLog('error', args.join(' '));
            originalError.apply(console, args);
        };
        
        console.warn = function(...args) {
            addLog('warn', args.join(' '));
            originalWarn.apply(console, args);
        };
        
        // Test chrome storage
        console.log('Testing chrome.storage...');
        
        try {
            if (typeof chrome !== 'undefined' && chrome.storage) {
                chrome.storage.local.set({test: 'value'}, () => {
                    console.log('Chrome storage test successful');
                });
            } else {
                console.error('Chrome storage not available');
            }
        } catch (error) {
            console.error('Chrome storage error:', error);
        }
        
        // Test basic JavaScript features
        try {
            const testObj = { test: 'value' };
            console.log('Object creation test:', testObj);
            
            const testArray = [1, 2, 3];
            console.log('Array test:', testArray);
            
            // Test localStorage
            localStorage.setItem('test', 'value');
            console.log('localStorage test:', localStorage.getItem('test'));
            
        } catch (error) {
            console.error('Basic JavaScript test error:', error);
        }
    </script>
</body>
</html>
